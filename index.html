<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>3D äº’åŠ¨åœ°çƒä»ª</title>
    <style>
        body { margin: 0; overflow: hidden; }
        #info-box {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 15px;
            width: 300px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 8px;
            display: none; /* åˆå§‹éšè— */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        
        #info-box h3 { margin-top: 0; border-bottom: 1px solid #555; padding-bottom: 5px; }
        /* é“¾æ¥æ ·å¼ */
        .osm-link {
            color: #66ffff; 
            text-decoration: none; 
            font-weight: bold;
            display: block; 
            margin-top: 10px;
            padding-top: 5px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        .osm-link:hover {
            color: #00cccc;
        }
    </style>
</head>
<body>
    <div id="info-box">
        <h3>ğŸ“ åœ°ç‚¹è¯¦æƒ… (OpenStreetMap)</h3>
        <p id="location-name" style="font-weight: bold; font-size: 1.1em;">ç‚¹å‡»åœ°çƒä»ªä¸Šçš„ä»»æ„åœ°ç‚¹...</p>
        <p id="location-coords" style="font-size: 0.9em; color: #ccc;"></p>
        <p id="location-details"></p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script>
        // --- å…¨å±€å¸¸é‡å’Œå˜é‡ ---
        const RADIUS = 2; // åœ°çƒä»ªåŠå¾„
        
        // --- DOM å…ƒç´  ---
        const INFO_BOX = document.getElementById('info-box');
        const NAME_ELEM = document.getElementById('location-name');
        const COORDS_ELEM = document.getElementById('location-coords');
        const DETAILS_ELEM = document.getElementById('location-details');

        // --- 1. åœºæ™¯ã€ç›¸æœºã€æ¸²æŸ“å™¨åˆå§‹åŒ– ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
        scene.background = new THREE.Color(0x050510); 
        camera.position.z = 5;

        // --- 2. åœ°çƒæ¨¡å‹åˆ›å»º ---
        const geometry = new THREE.SphereGeometry(RADIUS, 64, 64);
        const loader = new THREE.TextureLoader();
        
        // ç¡®ä¿æ‚¨åœ¨åŒä¸€ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåä¸º 'world_map.jpg' çš„ä¸–ç•Œåœ°å›¾çº¹ç†å›¾ç‰‡
        const texture = loader.load('./world_map.jpg', 
            () => { console.log("Texture loaded successfully."); },
            undefined, 
            (err) => { 
                console.error('Error loading world_map.jpg. Falling back to blue color.', err);
                // ç¡®ä¿å³ä½¿çº¹ç†åŠ è½½å¤±è´¥ï¼Œçƒä½“ä¹Ÿèƒ½æ˜¾ç¤ºï¼ˆè¿™æ˜¯æ‚¨çœ‹åˆ°è“è‰²çƒä½“çš„åŸå› ï¼‰
                globe.material = new THREE.MeshPhongMaterial({ color: 0x0044aa, shininess: 15 });
            }

